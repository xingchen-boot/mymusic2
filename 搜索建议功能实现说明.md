#***REMOVED***搜索建议功能实现说明

##***REMOVED***🎯***REMOVED***功能概述

基于QQ音乐快捷搜索API***REMOVED***V2，实现了Header搜索框的智能提示功能，包括：
-***REMOVED*****智能搜索建议**：实时获取歌曲、歌手、专辑、MV建议
-***REMOVED*****搜索历史记录**：自动保存和展示用户搜索历史
-***REMOVED*****用户体验优化**：防抖处理、分类显示、点击选择

##***REMOVED***🔧***REMOVED***技术实现

###***REMOVED***1.***REMOVED***后端API代理

####***REMOVED***新增接口：`/api/music/suggestions`

**Controller层**：
```java
//***REMOVED***springboot/src/main/java/org/example/controller/MusicController.java
@GetMapping("/suggestions")
public***REMOVED***ResponseEntity<ApiResponse<Object>>***REMOVED***getSearchSuggestions(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***@RequestParam***REMOVED***String***REMOVED***word)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***try***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***Map<String,***REMOVED***Object>***REMOVED***result***REMOVED***=***REMOVED***musicApiService.getSearchSuggestions(word);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***ResponseEntity.ok(ApiResponse.success("获取成功",***REMOVED***result));
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***catch***REMOVED***(Exception***REMOVED***e)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***ResponseEntity.ok(ApiResponse.error("获取失败:***REMOVED***"***REMOVED***+***REMOVED***e.getMessage()));
***REMOVED******REMOVED******REMOVED******REMOVED***}
}
```

**Service层**：
```java
//***REMOVED***springboot/src/main/java/org/example/service/MusicApiService.java
public***REMOVED***Map<String,***REMOVED***Object>***REMOVED***getSearchSuggestions(String***REMOVED***word)***REMOVED***throws***REMOVED***Exception***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***String***REMOVED***urlString***REMOVED***=***REMOVED***API_BASE_URL***REMOVED***+***REMOVED***"/v2/music/tencent/search/smartbox";
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(word***REMOVED***!=***REMOVED***null***REMOVED***&&***REMOVED***!word.isEmpty())***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***urlString***REMOVED***+=***REMOVED***"?word="***REMOVED***+***REMOVED***URLEncoder.encode(word,***REMOVED***StandardCharsets.UTF_8);
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throw***REMOVED***new***REMOVED***Exception("搜索词不能为空");
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***System.out.println("获取搜索建议:***REMOVED***"***REMOVED***+***REMOVED***urlString);
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***URL***REMOVED***url***REMOVED***=***REMOVED***new***REMOVED***URL(urlString);
***REMOVED******REMOVED******REMOVED******REMOVED***HttpURLConnection***REMOVED***connection***REMOVED***=***REMOVED***(HttpURLConnection)***REMOVED***url.openConnection();
***REMOVED******REMOVED******REMOVED******REMOVED***connection.setRequestMethod("GET");
***REMOVED******REMOVED******REMOVED******REMOVED***connection.setRequestProperty("User-Agent",***REMOVED***"Mozilla/5.0***REMOVED***(Windows***REMOVED***NT***REMOVED***10.0;***REMOVED***Win64;***REMOVED***x64)***REMOVED***AppleWebKit/537.36");
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***BufferedReader***REMOVED***reader***REMOVED***=***REMOVED***new***REMOVED***BufferedReader(new***REMOVED***InputStreamReader(connection.getInputStream()));
***REMOVED******REMOVED******REMOVED******REMOVED***StringBuilder***REMOVED***response***REMOVED***=***REMOVED***new***REMOVED***StringBuilder();
***REMOVED******REMOVED******REMOVED******REMOVED***String***REMOVED***line;
***REMOVED******REMOVED******REMOVED******REMOVED***while***REMOVED***((line***REMOVED***=***REMOVED***reader.readLine())***REMOVED***!=***REMOVED***null)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***response.append(line);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***reader.close();
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***String***REMOVED***responseString***REMOVED***=***REMOVED***response.toString();
***REMOVED******REMOVED******REMOVED******REMOVED***System.out.println("搜索建议响应:***REMOVED***"***REMOVED***+***REMOVED***responseString);
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***JsonNode***REMOVED***jsonNode***REMOVED***=***REMOVED***objectMapper.readTree(responseString);
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(jsonNode.get("code").asInt()***REMOVED***!=***REMOVED***200)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***String***REMOVED***errorMessage***REMOVED***=***REMOVED***jsonNode.get("message")***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***jsonNode.get("message").asText()***REMOVED***:***REMOVED***"未知错误";
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***System.out.println("搜索建议API错误:***REMOVED***"***REMOVED***+***REMOVED***errorMessage);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throw***REMOVED***new***REMOVED***Exception("获取搜索建议失败:***REMOVED***"***REMOVED***+***REMOVED***errorMessage);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***检查data字段是否存在
***REMOVED******REMOVED******REMOVED******REMOVED***JsonNode***REMOVED***dataNode***REMOVED***=***REMOVED***jsonNode.get("data");
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(dataNode***REMOVED***!=***REMOVED***null)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***直接返回完整的搜索建议数据
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***Map<String,***REMOVED***Object>***REMOVED***result***REMOVED***=***REMOVED***new***REMOVED***HashMap<>();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result.put("song",***REMOVED***dataNode.get("song")***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***dataNode.get("song")***REMOVED***:***REMOVED***null);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result.put("singer",***REMOVED***dataNode.get("singer")***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***dataNode.get("singer")***REMOVED***:***REMOVED***null);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result.put("album",***REMOVED***dataNode.get("album")***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***dataNode.get("album")***REMOVED***:***REMOVED***null);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result.put("mv",***REMOVED***dataNode.get("mv")***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***dataNode.get("mv")***REMOVED***:***REMOVED***null);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***result;
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throw***REMOVED***new***REMOVED***Exception("API响应中缺少data字段");
***REMOVED******REMOVED******REMOVED******REMOVED***}
}
```

###***REMOVED***2.***REMOVED***前端状态管理

####***REMOVED***Store层实现

**状态定义**：
```typescript
//***REMOVED***frontend/src/stores/music.ts
//***REMOVED***搜索建议相关状态
const***REMOVED***searchSuggestions***REMOVED***=***REMOVED***ref<any>(null)
const***REMOVED***searchHistory***REMOVED***=***REMOVED***ref<string[]>([])
```

**核心方法**：
```typescript
//***REMOVED***获取搜索建议
const***REMOVED***getSearchSuggestions***REMOVED***=***REMOVED***async***REMOVED***(word:***REMOVED***string)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(!word.trim())***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***searchSuggestions.value***REMOVED***=***REMOVED***null
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***null
***REMOVED******REMOVED***}
***REMOVED******REMOVED***
***REMOVED******REMOVED***try***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***apiUrl***REMOVED***=***REMOVED***'/api/music/suggestions'
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***params***REMOVED***=***REMOVED***{***REMOVED***word:***REMOVED***word.trim()***REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***console.log('🔍***REMOVED***获取搜索建议:',***REMOVED***apiUrl,***REMOVED***params)
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***response***REMOVED***=***REMOVED***await***REMOVED***axios.get(apiUrl,***REMOVED***{***REMOVED***params***REMOVED***})
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(response.data.code***REMOVED***===***REMOVED***200***REMOVED***&&***REMOVED***response.data.data)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***searchSuggestions.value***REMOVED***=***REMOVED***response.data.data
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***console.log('✅***REMOVED***搜索建议获取成功')
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***response.data.data
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***console.warn('搜索建议API响应错误:',***REMOVED***response.data)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***searchSuggestions.value***REMOVED***=***REMOVED***null
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***null
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}***REMOVED***catch***REMOVED***(error)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***console.error('获取搜索建议失败:',***REMOVED***error)
***REMOVED******REMOVED******REMOVED******REMOVED***searchSuggestions.value***REMOVED***=***REMOVED***null
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***null
***REMOVED******REMOVED***}
}

//***REMOVED***添加搜索历史
const***REMOVED***addSearchHistory***REMOVED***=***REMOVED***(keyword:***REMOVED***string)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(!keyword.trim())***REMOVED***return
***REMOVED******REMOVED***
***REMOVED******REMOVED***const***REMOVED***trimmedKeyword***REMOVED***=***REMOVED***keyword.trim()
***REMOVED******REMOVED***//***REMOVED***移除已存在的相同关键词
***REMOVED******REMOVED***const***REMOVED***index***REMOVED***=***REMOVED***searchHistory.value.indexOf(trimmedKeyword)
***REMOVED******REMOVED***if***REMOVED***(index***REMOVED***>***REMOVED***-1)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***searchHistory.value.splice(index,***REMOVED***1)
***REMOVED******REMOVED***}
***REMOVED******REMOVED***//***REMOVED***添加到开头
***REMOVED******REMOVED***searchHistory.value.unshift(trimmedKeyword)
***REMOVED******REMOVED***//***REMOVED***限制历史记录数量
***REMOVED******REMOVED***if***REMOVED***(searchHistory.value.length***REMOVED***>***REMOVED***10)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***searchHistory.value***REMOVED***=***REMOVED***searchHistory.value.slice(0,***REMOVED***10)
***REMOVED******REMOVED***}
***REMOVED******REMOVED***
***REMOVED******REMOVED***//***REMOVED***保存到localStorage
***REMOVED******REMOVED***localStorage.setItem('searchHistory',***REMOVED***JSON.stringify(searchHistory.value))
}

//***REMOVED***加载搜索历史
const***REMOVED***loadSearchHistory***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***try***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***saved***REMOVED***=***REMOVED***localStorage.getItem('searchHistory')
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(saved)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***searchHistory.value***REMOVED***=***REMOVED***JSON.parse(saved)
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}***REMOVED***catch***REMOVED***(error)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***console.error('加载搜索历史失败:',***REMOVED***error)
***REMOVED******REMOVED******REMOVED******REMOVED***searchHistory.value***REMOVED***=***REMOVED***[]
***REMOVED******REMOVED***}
}

//***REMOVED***清除搜索历史
const***REMOVED***clearSearchHistory***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***searchHistory.value***REMOVED***=***REMOVED***[]
***REMOVED******REMOVED***localStorage.removeItem('searchHistory')
}
```

###***REMOVED***3.***REMOVED***前端UI组件

####***REMOVED***Header组件实现

**模板结构**：
```vue
<!--***REMOVED***搜索框***REMOVED***-->
<div***REMOVED***class="search-container">
***REMOVED******REMOVED***<el-input
***REMOVED******REMOVED******REMOVED******REMOVED***v-model="searchKeyword"
***REMOVED******REMOVED******REMOVED******REMOVED***placeholder="搜索歌曲、歌手、专辑..."
***REMOVED******REMOVED******REMOVED******REMOVED***size="large"
***REMOVED******REMOVED******REMOVED******REMOVED***@keyup.enter="handleSearch"
***REMOVED******REMOVED******REMOVED******REMOVED***@input="handleInput"
***REMOVED******REMOVED******REMOVED******REMOVED***@focus="showSuggestions***REMOVED***=***REMOVED***true"
***REMOVED******REMOVED******REMOVED******REMOVED***@blur="hideSuggestions"
***REMOVED******REMOVED******REMOVED******REMOVED***clearable
***REMOVED******REMOVED******REMOVED******REMOVED***class="search-input"
***REMOVED******REMOVED******REMOVED******REMOVED***ref="searchInputRef"
***REMOVED******REMOVED***>
***REMOVED******REMOVED******REMOVED******REMOVED***<template***REMOVED***#suffix>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<span***REMOVED***class="search-icon"***REMOVED***@click="handleSearch">🔍</span>
***REMOVED******REMOVED******REMOVED******REMOVED***</template>
***REMOVED******REMOVED***</el-input>
***REMOVED******REMOVED***
***REMOVED******REMOVED***<!--***REMOVED***搜索建议下拉框***REMOVED***-->
***REMOVED******REMOVED***<div***REMOVED***v-if="showSuggestions***REMOVED***&&***REMOVED***(suggestions.length***REMOVED***>***REMOVED***0***REMOVED***||***REMOVED***searchHistory.length***REMOVED***>***REMOVED***0)"***REMOVED***class="suggestions-dropdown">
***REMOVED******REMOVED******REMOVED******REMOVED***<!--***REMOVED***搜索历史***REMOVED***-->
***REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***v-if="searchHistory.length***REMOVED***>***REMOVED***0***REMOVED***&&***REMOVED***!searchKeyword"***REMOVED***class="suggestions-section">
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***class="suggestions-header">
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<span***REMOVED***class="suggestions-title">搜索历史</span>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<el-button***REMOVED***type="text"***REMOVED***size="small"***REMOVED***@click="clearHistory">清除</el-button>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</div>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***class="suggestions-list">
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***v-for="(item,***REMOVED***index)***REMOVED***in***REMOVED***searchHistory"***REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:key="`history-${index}`"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***class="suggestion-item"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***@click="selectSuggestion(item)"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<span***REMOVED***class="suggestion-icon">🕒</span>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<span***REMOVED***class="suggestion-text">{{***REMOVED***item***REMOVED***}}</span>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</div>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</div>
***REMOVED******REMOVED******REMOVED******REMOVED***</div>
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***<!--***REMOVED***搜索建议***REMOVED***-->
***REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***v-if="suggestions.length***REMOVED***>***REMOVED***0"***REMOVED***class="suggestions-section">
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***class="suggestions-header">
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<span***REMOVED***class="suggestions-title">搜索建议</span>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</div>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***class="suggestions-list">
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***v-for="(suggestion,***REMOVED***index)***REMOVED***in***REMOVED***suggestions"***REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:key="`suggestion-${index}`"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***class="suggestion-item"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***@click="selectSuggestion(suggestion.text)"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<span***REMOVED***class="suggestion-icon">{{***REMOVED***suggestion.icon***REMOVED***}}</span>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<span***REMOVED***class="suggestion-text">{{***REMOVED***suggestion.text***REMOVED***}}</span>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<span***REMOVED***class="suggestion-type">{{***REMOVED***suggestion.type***REMOVED***}}</span>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</div>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</div>
***REMOVED******REMOVED******REMOVED******REMOVED***</div>
***REMOVED******REMOVED***</div>
</div>
```

**脚本逻辑**：
```typescript
//***REMOVED***响应式数据
const***REMOVED***searchKeyword***REMOVED***=***REMOVED***ref('')
const***REMOVED***showSuggestions***REMOVED***=***REMOVED***ref(false)
const***REMOVED***searchInputRef***REMOVED***=***REMOVED***ref()
let***REMOVED***inputTimer:***REMOVED***NodeJS.Timeout***REMOVED***|***REMOVED***null***REMOVED***=***REMOVED***null

//***REMOVED***计算属性
const***REMOVED***searchHistory***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***musicStore.searchHistory)
const***REMOVED***suggestions***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(!musicStore.searchSuggestions)***REMOVED***return***REMOVED***[]
***REMOVED******REMOVED***
***REMOVED******REMOVED***const***REMOVED***result:***REMOVED***Array<{***REMOVED***text:***REMOVED***string;***REMOVED***icon:***REMOVED***string;***REMOVED***type:***REMOVED***string***REMOVED***}>***REMOVED***=***REMOVED***[]
***REMOVED******REMOVED***
***REMOVED******REMOVED***//***REMOVED***处理歌曲建议
***REMOVED******REMOVED***if***REMOVED***(musicStore.searchSuggestions.song?.itemlist)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***musicStore.searchSuggestions.song.itemlist.forEach((item:***REMOVED***any)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result.push({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***`${item.name}***REMOVED***-***REMOVED***${item.singer}`,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***icon:***REMOVED***'🎵',
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***'歌曲'
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})
***REMOVED******REMOVED******REMOVED******REMOVED***})
***REMOVED******REMOVED***}
***REMOVED******REMOVED***
***REMOVED******REMOVED***//***REMOVED***处理歌手建议
***REMOVED******REMOVED***if***REMOVED***(musicStore.searchSuggestions.singer?.itemlist)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***musicStore.searchSuggestions.singer.itemlist.forEach((item:***REMOVED***any)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result.push({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***item.name,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***icon:***REMOVED***'👤',
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***'歌手'
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})
***REMOVED******REMOVED******REMOVED******REMOVED***})
***REMOVED******REMOVED***}
***REMOVED******REMOVED***
***REMOVED******REMOVED***//***REMOVED***处理专辑建议
***REMOVED******REMOVED***if***REMOVED***(musicStore.searchSuggestions.album?.itemlist)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***musicStore.searchSuggestions.album.itemlist.forEach((item:***REMOVED***any)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result.push({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***`${item.name}***REMOVED***-***REMOVED***${item.singer}`,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***icon:***REMOVED***'💿',
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***'专辑'
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})
***REMOVED******REMOVED******REMOVED******REMOVED***})
***REMOVED******REMOVED***}
***REMOVED******REMOVED***
***REMOVED******REMOVED***return***REMOVED***result.slice(0,***REMOVED***8)***REMOVED***//***REMOVED***限制显示数量
})

//***REMOVED***方法
const***REMOVED***handleSearch***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(searchKeyword.value.trim())***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***添加到搜索历史
***REMOVED******REMOVED******REMOVED******REMOVED***musicStore.addSearchHistory(searchKeyword.value.trim())
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***跳转到搜索结果页面
***REMOVED******REMOVED******REMOVED******REMOVED***router.push({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***name:***REMOVED***'search',
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***query:***REMOVED***{***REMOVED***keyword:***REMOVED***searchKeyword.value.trim()***REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***})
***REMOVED******REMOVED******REMOVED******REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***隐藏建议框
***REMOVED******REMOVED******REMOVED******REMOVED***showSuggestions.value***REMOVED***=***REMOVED***false
***REMOVED******REMOVED***}
}

const***REMOVED***handleInput***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***//***REMOVED***防抖处理
***REMOVED******REMOVED***if***REMOVED***(inputTimer)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***clearTimeout(inputTimer)
***REMOVED******REMOVED***}
***REMOVED******REMOVED***
***REMOVED******REMOVED***inputTimer***REMOVED***=***REMOVED***setTimeout(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(searchKeyword.value.trim())***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***musicStore.getSearchSuggestions(searchKeyword.value.trim())
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***musicStore.searchSuggestions***REMOVED***=***REMOVED***null
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***},***REMOVED***300)
}

const***REMOVED***selectSuggestion***REMOVED***=***REMOVED***(text:***REMOVED***string)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***searchKeyword.value***REMOVED***=***REMOVED***text
***REMOVED******REMOVED***showSuggestions.value***REMOVED***=***REMOVED***false
***REMOVED******REMOVED***handleSearch()
}

const***REMOVED***hideSuggestions***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***//***REMOVED***延迟隐藏，让点击事件先执行
***REMOVED******REMOVED***setTimeout(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***showSuggestions.value***REMOVED***=***REMOVED***false
***REMOVED******REMOVED***},***REMOVED***200)
}

const***REMOVED***clearHistory***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***musicStore.clearSearchHistory()
}
```

**样式设计**：
```css
/****REMOVED***搜索建议下拉框样式***REMOVED****/
.suggestions-dropdown***REMOVED***{
***REMOVED******REMOVED***position:***REMOVED***absolute;
***REMOVED******REMOVED***top:***REMOVED***100%;
***REMOVED******REMOVED***left:***REMOVED***0;
***REMOVED******REMOVED***right:***REMOVED***0;
***REMOVED******REMOVED***background:***REMOVED***white;
***REMOVED******REMOVED***border:***REMOVED***1px***REMOVED***solid***REMOVED***#e0e0e0;
***REMOVED******REMOVED***border-radius:***REMOVED***8px;
***REMOVED******REMOVED***box-shadow:***REMOVED***0***REMOVED***4px***REMOVED***12px***REMOVED***rgba(0,***REMOVED***0,***REMOVED***0,***REMOVED***0.15);
***REMOVED******REMOVED***z-index:***REMOVED***1000;
***REMOVED******REMOVED***max-height:***REMOVED***400px;
***REMOVED******REMOVED***overflow-y:***REMOVED***auto;
}

.suggestions-section***REMOVED***{
***REMOVED******REMOVED***border-bottom:***REMOVED***1px***REMOVED***solid***REMOVED***#f0f0f0;
}

.suggestions-section:last-child***REMOVED***{
***REMOVED******REMOVED***border-bottom:***REMOVED***none;
}

.suggestions-header***REMOVED***{
***REMOVED******REMOVED***display:***REMOVED***flex;
***REMOVED******REMOVED***justify-content:***REMOVED***space-between;
***REMOVED******REMOVED***align-items:***REMOVED***center;
***REMOVED******REMOVED***padding:***REMOVED***8px***REMOVED***12px;
***REMOVED******REMOVED***background:***REMOVED***#f8f9fa;
***REMOVED******REMOVED***border-bottom:***REMOVED***1px***REMOVED***solid***REMOVED***#e0e0e0;
}

.suggestions-title***REMOVED***{
***REMOVED******REMOVED***font-size:***REMOVED***12px;
***REMOVED******REMOVED***color:***REMOVED***#666;
***REMOVED******REMOVED***font-weight:***REMOVED***500;
}

.suggestions-list***REMOVED***{
***REMOVED******REMOVED***padding:***REMOVED***4px***REMOVED***0;
}

.suggestion-item***REMOVED***{
***REMOVED******REMOVED***display:***REMOVED***flex;
***REMOVED******REMOVED***align-items:***REMOVED***center;
***REMOVED******REMOVED***padding:***REMOVED***8px***REMOVED***12px;
***REMOVED******REMOVED***cursor:***REMOVED***pointer;
***REMOVED******REMOVED***transition:***REMOVED***background-color***REMOVED***0.2s***REMOVED***ease;
}

.suggestion-item:hover***REMOVED***{
***REMOVED******REMOVED***background-color:***REMOVED***#f8f9fa;
}

.suggestion-icon***REMOVED***{
***REMOVED******REMOVED***font-size:***REMOVED***16px;
***REMOVED******REMOVED***margin-right:***REMOVED***8px;
***REMOVED******REMOVED***width:***REMOVED***20px;
***REMOVED******REMOVED***text-align:***REMOVED***center;
}

.suggestion-text***REMOVED***{
***REMOVED******REMOVED***flex:***REMOVED***1;
***REMOVED******REMOVED***font-size:***REMOVED***14px;
***REMOVED******REMOVED***color:***REMOVED***#333;
***REMOVED******REMOVED***white-space:***REMOVED***nowrap;
***REMOVED******REMOVED***overflow:***REMOVED***hidden;
***REMOVED******REMOVED***text-overflow:***REMOVED***ellipsis;
}

.suggestion-type***REMOVED***{
***REMOVED******REMOVED***font-size:***REMOVED***12px;
***REMOVED******REMOVED***color:***REMOVED***#999;
***REMOVED******REMOVED***margin-left:***REMOVED***8px;
***REMOVED******REMOVED***padding:***REMOVED***2px***REMOVED***6px;
***REMOVED******REMOVED***background:***REMOVED***#f0f0f0;
***REMOVED******REMOVED***border-radius:***REMOVED***4px;
}
```

##***REMOVED***🎨***REMOVED***用户体验设计

###***REMOVED***1.***REMOVED***交互流程
1.***REMOVED*****点击搜索框**：显示搜索历史
2.***REMOVED*****输入内容**：300ms后显示智能建议
3.***REMOVED*****点击建议**：直接搜索并跳转
4.***REMOVED*****按回车**：执行搜索并保存历史

###***REMOVED***2.***REMOVED***视觉设计
-***REMOVED*****分类图标**：歌曲🎵、歌手👤、专辑💿、历史🕒
-***REMOVED*****类型标签**：区分不同内容类型
-***REMOVED*****悬停效果**：鼠标悬停高亮
-***REMOVED*****响应式布局**：适配不同屏幕尺寸

###***REMOVED***3.***REMOVED***性能优化
-***REMOVED*****防抖处理**：300ms延迟，避免频繁请求
-***REMOVED*****限制数量**：最多显示8个建议
-***REMOVED*****本地存储**：搜索历史持久化
-***REMOVED*****缓存机制**：避免重复请求

##***REMOVED***📊***REMOVED***API数据格式

###***REMOVED***外部API响应格式
```json
{
***REMOVED******REMOVED***"code":***REMOVED***200,
***REMOVED******REMOVED***"message":***REMOVED***"请求成功！",
***REMOVED******REMOVED***"data":***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***"song":***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"count":***REMOVED***4,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"itemlist":***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"docid":***REMOVED***"105648974",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"id":***REMOVED***"105648974",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"mid":***REMOVED***"0023CVP23SH17s",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"name":***REMOVED***"梦回还",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"singer":***REMOVED***"呦猫UNEKO"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***],
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"name":***REMOVED***"单曲",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"order":***REMOVED***0,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"type":***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED***},
***REMOVED******REMOVED******REMOVED******REMOVED***"singer":***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"count":***REMOVED***2,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"itemlist":***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"docid":***REMOVED***"4914381",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"id":***REMOVED***"4914381",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"mid":***REMOVED***"000lnrtZ1tNHRN",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"name":***REMOVED***"狐妖小红娘-涂山苏苏",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"pic":***REMOVED***"http://y.gtimg.cn/music/photo_new/T001R150x150M000000lnrtZ1tNHRN_2.jpg",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"singer":***REMOVED***"狐妖小红娘-涂山苏苏"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***],
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"name":***REMOVED***"歌手",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"order":***REMOVED***1,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"type":***REMOVED***2
***REMOVED******REMOVED******REMOVED******REMOVED***},
***REMOVED******REMOVED******REMOVED******REMOVED***"album":***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"count":***REMOVED***2,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"itemlist":***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"docid":***REMOVED***"1031692",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"id":***REMOVED***"1031692",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"mid":***REMOVED***"000wd19g0wTd0d",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"name":***REMOVED***"狐妖小红娘***REMOVED***动画原声带",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"pic":***REMOVED***"http://y.gtimg.cn/music/photo_new/T002R180x180M000000wd19g0wTd0d_1.jpg",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"singer":***REMOVED***"华语群星"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***],
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"name":***REMOVED***"专辑",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"order":***REMOVED***2,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"type":***REMOVED***3
***REMOVED******REMOVED******REMOVED******REMOVED***},
***REMOVED******REMOVED******REMOVED******REMOVED***"mv":***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"count":***REMOVED***2,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"itemlist":***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"docid":***REMOVED***"869531",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"id":***REMOVED***"869531",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"mid":***REMOVED***"0034qhHt3lnt4l",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"name":***REMOVED***"《狐妖小红娘》cp东方月初&涂山红红",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"singer":***REMOVED***"动画视频",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"vid":***REMOVED***"b0021738knz"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***],
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"name":***REMOVED***"MV",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"order":***REMOVED***3,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"type":***REMOVED***4
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
}
```

###***REMOVED***前端处理后的建议格式
```typescript
interface***REMOVED***Suggestion***REMOVED***{
***REMOVED******REMOVED***text:***REMOVED***string***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***显示文本
***REMOVED******REMOVED***icon:***REMOVED***string***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***图标
***REMOVED******REMOVED***type:***REMOVED***string***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***类型标签
}

//***REMOVED***示例
[
***REMOVED******REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***"梦回还***REMOVED***-***REMOVED***呦猫UNEKO",
***REMOVED******REMOVED******REMOVED******REMOVED***icon:***REMOVED***"🎵",
***REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***"歌曲"
***REMOVED******REMOVED***},
***REMOVED******REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***"狐妖小红娘-涂山苏苏",
***REMOVED******REMOVED******REMOVED******REMOVED***icon:***REMOVED***"👤",***REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***"歌手"
***REMOVED******REMOVED***}
]
```

##***REMOVED***🚀***REMOVED***功能特色

###***REMOVED***1.***REMOVED***智能建议
-***REMOVED*****多类型支持**：歌曲、歌手、专辑、MV
-***REMOVED*****实时获取**：输入即获取建议
-***REMOVED*****分类显示**：不同类型用不同图标和标签

###***REMOVED***2.***REMOVED***搜索历史
-***REMOVED*****自动保存**：每次搜索自动记录
-***REMOVED*****去重处理**：相同关键词只保留最新
-***REMOVED*****持久化**：localStorage保存，刷新不丢失
-***REMOVED*****一键清除**：支持清空历史记录

###***REMOVED***3.***REMOVED***用户体验
-***REMOVED*****防抖优化**：避免频繁请求
-***REMOVED*****点击选择**：点击建议直接搜索
-***REMOVED*****键盘支持**：回车键搜索
-***REMOVED*****视觉反馈**：悬停效果和过渡动画

##***REMOVED***🔧***REMOVED***技术要点

###***REMOVED***1.***REMOVED***防抖处理
```typescript
const***REMOVED***handleInput***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***//***REMOVED***防抖处理
***REMOVED******REMOVED***if***REMOVED***(inputTimer)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***clearTimeout(inputTimer)
***REMOVED******REMOVED***}
***REMOVED******REMOVED***
***REMOVED******REMOVED***inputTimer***REMOVED***=***REMOVED***setTimeout(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(searchKeyword.value.trim())***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***musicStore.getSearchSuggestions(searchKeyword.value.trim())
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***musicStore.searchSuggestions***REMOVED***=***REMOVED***null
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***},***REMOVED***300)
}
```

###***REMOVED***2.***REMOVED***延迟隐藏
```typescript
const***REMOVED***hideSuggestions***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***//***REMOVED***延迟隐藏，让点击事件先执行
***REMOVED******REMOVED***setTimeout(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***showSuggestions.value***REMOVED***=***REMOVED***false
***REMOVED******REMOVED***},***REMOVED***200)
}
```

###***REMOVED***3.***REMOVED***数据转换
```typescript
const***REMOVED***suggestions***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(!musicStore.searchSuggestions)***REMOVED***return***REMOVED***[]
***REMOVED******REMOVED***
***REMOVED******REMOVED***const***REMOVED***result:***REMOVED***Array<{***REMOVED***text:***REMOVED***string;***REMOVED***icon:***REMOVED***string;***REMOVED***type:***REMOVED***string***REMOVED***}>***REMOVED***=***REMOVED***[]
***REMOVED******REMOVED***
***REMOVED******REMOVED***//***REMOVED***处理歌曲建议
***REMOVED******REMOVED***if***REMOVED***(musicStore.searchSuggestions.song?.itemlist)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***musicStore.searchSuggestions.song.itemlist.forEach((item:***REMOVED***any)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result.push({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***`${item.name}***REMOVED***-***REMOVED***${item.singer}`,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***icon:***REMOVED***'🎵',
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***'歌曲'
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})
***REMOVED******REMOVED******REMOVED******REMOVED***})
***REMOVED******REMOVED***}
***REMOVED******REMOVED***
***REMOVED******REMOVED***//***REMOVED***...***REMOVED***其他类型处理
***REMOVED******REMOVED***
***REMOVED******REMOVED***return***REMOVED***result.slice(0,***REMOVED***8)***REMOVED***//***REMOVED***限制显示数量
})
```

##***REMOVED***📝***REMOVED***使用说明

###***REMOVED***1.***REMOVED***基本使用
1.***REMOVED***点击Header搜索框
2.***REMOVED***输入搜索关键词
3.***REMOVED***选择建议或按回车搜索
4.***REMOVED***搜索历史自动保存

###***REMOVED***2.***REMOVED***功能操作
-***REMOVED*****查看历史**：点击搜索框显示历史记录
-***REMOVED*****选择建议**：点击建议项直接搜索
-***REMOVED*****清除历史**：点击"清除"按钮清空历史
-***REMOVED*****键盘搜索**：输入后按回车键搜索

###***REMOVED***3.***REMOVED***注意事项
-***REMOVED***建议数量限制为8个
-***REMOVED***历史记录最多保存10条
-***REMOVED***300ms防抖延迟
-***REMOVED***需要网络连接获取建议

这个搜索建议功能大大提升了用户的搜索体验，让用户能够更快、更准确地找到想要的内容！
